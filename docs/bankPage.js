(()=>{"use strict";var e={52:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.moneyLaunderingCheck=t.transfer=t.getBalance=t.initialize=void 0;const s=new Map;async function n(e){const t=s.get(e);if("number"!=typeof t)throw new Error(`Invalid accountID ${e}`);return t}async function i(e){return new Promise((e=>setTimeout(e,50+100*Math.random())))}t.initialize=async function(){s.clear(),s.set("A",1e3),s.set("B",1e3),s.set("C",1e3)},t.getBalance=n,t.transfer=async function(e,t,r){if(e===t)throw new Error("Transfer accounts must be different");const o=await n(e),c=await n(t);if("number"!=typeof r||!(r>0))throw new Error(`Invalid amount ${r}`);if(r>o)throw new Error("Insufficient balance");await i(),s.set(e,o-r),s.set(t,c+r)},t.moneyLaunderingCheck=i},42:(e,t,s)=>{function n(){}s.r(t),s.d(t,{BaseObservable:()=>C,Computed:()=>V,ComputedArray:()=>Ve,Disposable:()=>a,Emitter:()=>r,Holder:()=>l,KoWrapObs:()=>K,LLink:()=>i,Listener:()=>o,LiveIndex:()=>Qe,MultiHolder:()=>d,MutableObsArray:()=>Ue,ObsArray:()=>Re,Observable:()=>D,PureComputed:()=>dt,Subscription:()=>R,_disposeNode:()=>I,attr:()=>re,attrElem:()=>ie,attrs:()=>ne,attrsElem:()=>se,autoDispose:()=>T,autoDisposeElem:()=>M,bindB:()=>bt,bindBU:()=>wt,bindUB:()=>yt,boolAttr:()=>ce,boolAttrElem:()=>oe,bundleChanges:()=>x,cls:()=>ye,clsElem:()=>be,clsPrefix:()=>we,computed:()=>G,computedArray:()=>Ge,create:()=>Fe,data:()=>Ce,dataElem:()=>xe,dom:()=>ct,domComputed:()=>qe,domDispose:()=>O,domDisposeHooks:()=>S,find:()=>We,findAll:()=>je,forEach:()=>Xe,frag:()=>Pe,fromKo:()=>j,getData:()=>De,hide:()=>ge,hideElem:()=>me,input:()=>vt,keyframes:()=>_t,makeLiveIndex:()=>Je,makeTestId:()=>Ee,maybe:()=>ze,noTestId:()=>ke,obsArray:()=>He,obsHolder:()=>k,observable:()=>E,on:()=>tt,onDispose:()=>B,onDisposeElem:()=>N,onElem:()=>et,onKeyDown:()=>ot,onKeyElem:()=>it,onKeyPress:()=>rt,onMatch:()=>nt,onMatchElem:()=>st,prop:()=>pe,propElem:()=>he,pureComputed:()=>ht,replaceContent:()=>Ke,select:()=>Dt,setDisposeOwner:()=>h,setupKoDisposal:()=>z,show:()=>fe,showElem:()=>_e,style:()=>de,styleElem:()=>le,styled:()=>pt,subscribe:()=>U,subscribeBindable:()=>J,subscribeElem:()=>Q,svg:()=>Le,text:()=>ae,textElem:()=>ue,toKo:()=>q,update:()=>Ne});class i{constructor(){this._next=null,this._prev=null,this._next=this,this._prev=this}isDisposed(){return!this._next}_insertBefore(e,t){const s=e._prev;s._next=t,e._prev=t,t._prev=s,t._next=e}_removeNode(e){e._prev&&(e._prev._next=e._next,e._next._prev=e._prev),e._prev=e._next=null}_disposeList(){let e=this,t=e._next;for(;null!==t;)e._next=e._prev=null,e=t,t=e._next}}class r extends i{constructor(){super(),this._changeCB=n,this._changeCBContext=void 0}addListener(e,t){return new o(this,e,t)}emit(...e){o.callAll(this._next,this,e)}setChangeCB(e,t){this._changeCB=e||n,this._changeCBContext=t}_triggerChangeCB(){this._changeCB.call(this._changeCBContext,this.hasListeners())}hasListeners(){return this._next!==this}dispose(){this._disposeList(),this._changeCB=n,this._changeCBContext=void 0}}class o extends i{constructor(e,t,s){super(),this.emitter=e,this.callback=t,this.context=s,this._insertBefore(e,this),e._triggerChangeCB()}static callAll(e,t,s){for(;e!==t;){const t=e;t.callback.call(t.context,...s),e=t._next}}dispose(){this.isDisposed()||(this._removeNode(this),this.emitter._triggerChangeCB())}}const c={autoDispose(e){}};let u=c;class a{constructor(){this._disposalList=new _,u.autoDispose(this),u=c}static create(e,...t){const s=u,n=new l;try{return u=n,h(e,new this(...t))}catch(e){try{n.clear()}catch(e){console.error("Error disposing partially constructed %s:",this.name,e)}throw e}finally{n.release(),u=s}}autoDispose(e){return this.onDispose(e.dispose,e),e}onDispose(e,t){return this._disposalList.addListener(e,t)}wipeOnDispose(){this.onDispose(this._wipeOutObject,this)}isDisposed(){return null===this._disposalList}dispose(){const e=this._disposalList;e?(this._disposalList=null,e.callAndDispose(this)):console.error("Error disposing %s which is already disposed",p(this))}_wipeOutObject(){for(const e of Object.keys(this))this[e]=null}}class l{constructor(){this._owned=null,this._disposalListener=void 0}static create(e){return h(e,new l)}autoDispose(e){return this.clear(),this._owned=e,e instanceof a&&(this._disposalListener=e.onDispose(this._onOutsideDispose,this)),e}release(){this._unlisten();const e=this._owned;return this._owned=null,e}clear(){this._unlisten();const e=this._owned;e&&(this._owned=null,e.dispose())}get(){return this._owned}isEmpty(){return!this._owned}dispose(){this.clear()}_unlisten(){const e=this._disposalListener;e&&(this._disposalListener=void 0,e.dispose())}_onOutsideDispose(){this._disposalListener=void 0,this._owned=null}}class d extends a{}function h(e,t){return e&&e.autoDispose(t),t}function p(e){return e&&e.constructor&&e.constructor.name?e.constructor.name:""+e}class _ extends i{constructor(){super()}addListener(e,t){const s=new f(e,t);return this._insertBefore(this._next,s),s}callAndDispose(e){try{f.callAll(this._next,this,e)}finally{this._disposeList()}}}class f extends i{constructor(e,t){super(),this.callback=e,this.context=t}static callAll(e,t,s){for(;e!==t;){const t=e;try{t.callback.call(t.context)}catch(e){console.error("While disposing %s, error disposing %s: %s",p(s),p(this),e)}e=t._next}}dispose(){this.isDisposed()||this._removeNode(this)}}class m{constructor(e,t){this._priority=0,this._enqueued=!1,this._creation=++b,this._callback=e,this._context=t}static isPrioritySmaller(e,t){return e._priority<t._priority||e._priority===t._priority&&e._creation<t._creation}useDep(e){const t=e?e._priority:0;t>=this._priority&&(this._priority=t+1)}recompute(){this._priority=0,this._callback.call(this._context)}enqueue(){this._enqueued||(this._enqueued=!0,g.push(this))}}const g=new class{constructor(e){this._isPrior=e,this._items=[]}get size(){return this._items.length}push(e){const t=this._items,s=this._isPrior;let n=this._items.length;for(;n>0;){const i=n-1>>1,r=t[i];if(s(r,e))break;t[n]=r,n=i}t[n]=e}peek(){return this._items[0]}pop(){if(this._items.length<=1)return this._items.pop();const e=this._items,t=this._isPrior,s=e[0],n=e.pop(),i=this._items.length;let r=0,o=1;for(;o<i;){const s=o+1,c=s<i&&t(e[s],e[o])?s:o;if(t(n,e[c]))break;e[r]=e[c],r=c,o=r+r+1}return e[r]=n,s}}(m.isPrioritySmaller);let b=0;const y=[];let w=0;function v(){if(0===w&&g.size>0){w++;try{do{const e=g.pop();y.push(e),e.recompute()}while(g.size>0)}finally{for(const e of y)e._enqueued=!1;y.length=0,w--}}}function x(e){try{return w++,e()}finally{w--,v()}}class C{constructor(e){this._onChange=new r,this._value=e}get(){return this._value}set(e){e!==this._value&&this.setAndTrigger(e)}setAndTrigger(e){const t=this._value;this._value=e,this._onChange.emit(e,t),this._disposeOwned(),v()}addListener(e,t){return this._onChange.addListener(e,t)}hasListeners(){return this._onChange.hasListeners()}setListenerChangeCB(e,t){this._onChange.setChangeCB(e,t)}_getDepItem(){return null}dispose(){this._disposeOwned(),this._onChange.dispose(),this._value=void 0}isDisposed(){return this._onChange.isDisposed()}_disposeOwned(e){}_setWithArg(e,t){const s=this._value;this._value=e,this._onChange.emit(e,s,t),this._disposeOwned(t),v()}}class D extends C{constructor(){super(...arguments),this._owned=void 0}static holder(e){const t=new D(e);return t._owned=e,t}static create(e,t){return h(e,new D(t))}autoDispose(e){return this.setAndTrigger(e),this._owned=e,e}_disposeOwned(){this._owned&&(this._owned.dispose(),this._owned=void 0)}}function E(e){return new D(e)}function k(e){return D.holder(e)}const A=new WeakMap;function L(e,t){let s=e.firstChild;for(;s;)L(s,t),s=s.nextSibling;t(e)}function I(e){let t=A.get(e);if(t){let s=e;do{A.delete(s),t(e),s=t,t=A.get(s)}while(t)}}const S={disposeNode:I,disposeRecursive:function(e){L(e,S.disposeNode)}};function O(e){S.disposeRecursive(e)}function N(e,t){const s=A.get(e);A.set(e,t),s&&A.set(t,s)}function B(e){return t=>N(t,e)}function M(e,t){t&&N(e,(()=>t.dispose()))}function T(e){if(e)return t=>M(t,e)}const P=new WeakMap,W=new WeakMap;function j(e){return P.get(e)||P.set(e,new K(e)).get(e)}class K extends D{constructor(e){super(e.peek()),this._koObs=e,this._koSub=null,this.setListenerChangeCB((e=>{e?this._koSub||(this._value=this._koObs.peek(),this._koSub=this._koObs.subscribe((e=>this.setAndTrigger(e)))):(this._koSub.dispose(),this._koSub=null)}))}get(){return this._koObs.peek()}set(e){x((()=>this._koObs(e)))}dispose(){throw new Error("KoWrapObs should not be disposed")}}function q(e,t){const s=W.get(t);if(s)return s;const n=e.observable(t.get());return W.set(t,n),t.addListener((e=>n(e))),n}let $=!1;function z(e){if($)return;$=!0;const t=e.utils.domNodeDisposal,s=t.cleanExternalData,n=S.disposeRecursive;function i(e){s(e),S.disposeNode(e)}t.cleanExternalData=i,S.disposeRecursive=function(r){n(r),t.cleanExternalData=s;try{e.cleanNode(r)}finally{t.cleanExternalData=i}}}const F=[];class R{constructor(e,t,s){this._depItem=new m(this._evaluate,this),this._dependencies=t.length>0?t:F,this._depListeners=t.length>0?t.map((e=>this._subscribeTo(e))):F,this._dynDeps=new Map,this._callback=e,this._useFunc=this._useDependency.bind(this),s&&(this._useFunc.owner=s),this._evaluate()}dispose(){this._callback=null;for(const e of this._depListeners)e.dispose();for(const e of this._dynDeps.values())e.dispose()}_getDepItem(){return this._depItem}_useDependency(e){const t="_getDepItem"in e?e:j(e);let s=this._dynDeps.get(t);return s||(s=this._subscribeTo(t),this._dynDeps.set(t,s)),s._inUse=!0,this._depItem.useDep(t._getDepItem()),t.get()}_evaluate(){if(null!==this._callback)try{const e=[this._useFunc];for(let t=0,s=this._dependencies.length;t<s;t++)e[t+1]=this._dependencies[t].get(),this._depItem.useDep(this._dependencies[t]._getDepItem());return this._callback.apply(void 0,e)}finally{this._dynDeps.forEach(((e,t)=>{e._inUse?e._inUse=!1:(this._dynDeps.delete(t),e.dispose())}))}}_subscribeTo(e){return("_getDepItem"in e?e:j(e)).addListener(this._enqueue,this)}_enqueue(){this._depItem.enqueue()}}function U(...e){const t=e.pop();return new R(t,e)}function H(){throw new Error("Can't write to non-writable computed")}class V extends D{constructor(e,t){super(void 0),this._callback=e,this._write=H,this._sub=new R(this._read.bind(this),t,this)}static create(e,...t){const s=t.pop();return h(e,new V(s,t))}_getDepItem(){return this._sub._getDepItem()}set(e){this._write(e)}onWrite(e){return this._write=e,this}dispose(){this._sub.dispose(),super.dispose()}_read(e,...t){super.set(this._callback(e,...t))}}function G(...e){const t=e.pop();return new V(t,e)}function J(e,t){if("function"==typeof e){const s=e;if("function"==typeof s.peek){const e=s.subscribe((e=>t(e)));return t(s.peek()),e}const n=G(e);return n.addListener((e=>t(e))),t(n.get()),n}return e instanceof C?U(e,((e,s)=>t(s))):(t(e),null)}function Q(e,t,s){M(e,J(t,s))}const X={};var Y,Z;Y=X,Z="undefined"!=typeof window?window:{},Y.DocumentFragment=Z.DocumentFragment,Y.Element=Z.Element,Y.Node=Z.Node,Y.document=Z.document,Y.window=Z.window;const ee=Object.assign({},X),te=new WeakMap;function se(e,t){for(const s of Object.keys(t)){const n=t[s];null!=n&&!1!==n&&e.setAttribute(s,!0===n?"":n)}}function ne(e){return t=>se(t,e)}function ie(e,t,s){null==s?e.removeAttribute(t):e.setAttribute(t,s)}function re(e,t){return s=>Q(s,t,(t=>ie(s,e,t)))}function oe(e,t,s){ie(e,t,s?"":null)}function ce(e,t){return s=>Q(s,t,(t=>oe(s,e,t)))}function ue(e,t){e.appendChild(ee.document.createTextNode(t))}function ae(e){return t=>{const s=ee.document.createTextNode("");Q(t,e,(e=>{s.nodeValue=e})),t.appendChild(s)}}function le(e,t,s){e.style[t]=s}function de(e,t){return s=>Q(s,t,(t=>le(s,e,t)))}function he(e,t,s){e[t]=s}function pe(e,t){return s=>Q(s,t,(t=>he(s,e,t)))}function _e(e,t){e.style.display=t?"":"none"}function fe(e){return t=>Q(t,e,(e=>_e(t,e)))}function me(e,t){e.style.display=t?"none":""}function ge(e){return t=>Q(t,e,(e=>me(t,e)))}function be(e,t,s=!0){e.classList.toggle(t,Boolean(s))}function ye(e,t){return"string"!=typeof e?ve("",e):t&&"boolean"!=typeof t?s=>Q(s,t,(t=>be(s,e,t))):s=>be(s,e,t)}function we(e,t,s){return"string"!=typeof t?ve(e,t):ye(e+t,s)}function ve(e,t){return s=>{let n=null;Q(s,t,(t=>{n&&s.classList.remove(n),n=t?e+t:null,n&&s.classList.add(n)}))}}function xe(e,t,s){const n=te.get(e);n?n[t]=s:(N(e,(()=>te.delete(e))),te.set(e,{[t]:s}))}function Ce(e,t){return s=>Q(s,t,(t=>xe(s,e,t)))}function De(e,t){const s=te.get(e);return s&&s[t]}function Ee(e){return we.bind(null,e)}const ke=e=>null;function Ae(e,...t){return Me(Oe(Ie,e),t)}function Le(e,...t){return Me(Oe(Se,e),t)}function Ie(e){return ee.document.createElement(e)}function Se(e){return ee.document.createElementNS("http://www.w3.org/2000/svg",e)}function Oe(e,t){let s,n,i,r=t.indexOf(".");const o=t.indexOf("#");if(-1===r?r=t.length:i=t.substring(r+1).replace(/\./g," "),-1===o)s=t.substring(0,r);else{if(o>r)throw new Error(`ID must come before classes in dom("${t}")`);s=t.substring(0,o),n=t.substring(o+1,r)}const c=e(s);return n&&c.setAttribute("id",n),i&&c.setAttribute("class",i),c}function Ne(e,...t){return Be(e,t)}function Be(e,t){for(const s of t)Te(e,s);return e}function Me(e,t){try{return Be(e,t)}catch(t){throw O(e),t}}function Te(e,t){if("function"==typeof t){const s=t(e);null!=s&&Te(e,s)}else Array.isArray(t)?Be(e,t):null==t||(t instanceof ee.Node?e.appendChild(t):"object"==typeof t?se(e,t):e.appendChild(ee.document.createTextNode(t)))}function Pe(...e){return Me(ee.document.createDocumentFragment(),e)}function We(e){return ee.document.querySelector(e)}function je(e){return ee.document.querySelectorAll(e)}function Ke(e,t,s){const n=e.parentNode;if(n){let i;for(let s=e.nextSibling;s&&s!==t;s=i)i=s.nextSibling,O(s),n.removeChild(s);s&&n.insertBefore(s instanceof ee.Node?s:Pe(s),t)}}function qe(e,t=$e){const s=ee.document.createComment("a"),n=ee.document.createComment("b");return[s,n,i=>{Q(n,e,(e=>Ke(s,n,t(e))))}]}function $e(e){return e}function ze(e,t){return qe(e,(e=>e?t(e):null))}function Fe(e,...t){const[s,n,i]=qe(null,(()=>{const s=d.create(null);M(n,s);const i="create"in e?e.create(s,...t):e(s,...t);return i&&"object"==typeof i&&"buildDom"in i?i.buildDom():i}));return[s,n,i]}class Re extends C{constructor(){super(...arguments),this._ownedItems=void 0}addListener(e,t){return super.addListener(e,t)}autoDispose(e){return this._ownedItems||(this._ownedItems=new Set),this._ownedItems.add(e),e}dispose(){if(this._ownedItems){for(const e of this.get())this._ownedItems.delete(e)&&e.dispose();this._ownedItems=void 0}super.dispose()}_setWithSplice(e,t){return this._setWithArg(e,t)}_disposeOwned(e){if(this._ownedItems)if(e)for(const t of e.deleted)this._ownedItems.delete(t)&&t.dispose();else{const e=this._ownedItems;this._ownedItems=new Set;for(const t of this.get())e.delete(t)&&this._ownedItems.add(t);for(const t of e)t.dispose()}}}class Ue extends Re{push(...e){const t=this.get(),s=t.length,n=t.push(...e);return this._setWithSplice(t,{start:s,numAdded:e.length,deleted:[]}),n}pop(){const e=this.get();if(0===e.length)return;const t=e.pop();return this._setWithSplice(e,{start:e.length,numAdded:0,deleted:[t]}),t}unshift(...e){const t=this.get(),s=t.unshift(...e);return this._setWithSplice(t,{start:0,numAdded:e.length,deleted:[]}),s}shift(){const e=this.get();if(0===e.length)return;const t=e.shift();return this._setWithSplice(e,{start:0,numAdded:0,deleted:[t]}),t}splice(e,t=1/0,...s){const n=this.get(),i=n.length;e=Math.min(i,Math.max(0,e<0?i+e:e));const r=n.splice(e,t,...s);return this._setWithSplice(n,{start:e,numAdded:s.length,deleted:r}),r}}function He(e=[]){return new Ue(e)}class Ve extends Re{constructor(e,t){var s;super([]),this._mapper=t,this._sub=(s=e,Array.isArray(s.get())?U(e,(t=>this._syncMap(e))):U(e,((e,t)=>(e(t),this._syncMap(t)))))}dispose(){this._unsync(),this._sub.dispose(),super.dispose()}_syncMap(e){this._source!==e?(this._unsync(),this._listener=e.addListener(this._recordChange,this),this._source=e,this._rebuild(e)):this._lastSplice?this._applySplice(e,this._lastSplice):this._rebuild(e),this._lastSplice=void 0}_unsync(){this._listener&&(this._listener.dispose(),this._listener=void 0,this._source=void 0)}_rebuild(e){this.set(e.get().map(((e,t)=>this._mapper.call(void 0,e,t,this))))}_applySplice(e,t){const s=e.get(),n=[];for(let e=t.start,i=0;i<t.numAdded;e++,i++)n.push(this._mapper.call(void 0,s[e],e,this));const i=this.get(),r=i.splice(t.start,t.deleted.length,...n);this._setWithSplice(i,{start:t.start,numAdded:n.length,deleted:r})}_recordChange(e,t,s){s&&void 0===this._lastSplice?this._lastSplice=s:this._lastSplice=!1}}function Ge(e,t){return new Ve(e,t)}function Je(e,t,s=0){return h(e,new Qe(t,s))}class Qe extends D{constructor(e,t=0){super(null),this._obsArray=e,this._isLive=!0,this.set(t),this._listener=e.addListener(this._onArrayChange,this)}set(e){const t=this._obsArray.get().length;super.set(0===t?null:Math.max(0,Math.min(t-1,e||0)))}setLive(e){this._isLive=e}dispose(){this._listener.dispose(),super.dispose()}_onArrayChange(e,t,s){const n=this.get();this.set(null!==n&&s?this._isLive&&n>=s.start+s.deleted.length?n+s.numAdded-s.deleted.length:this._isLive&&n>=s.start+s.numAdded?s.start+s.numAdded:n:0)}}function Xe(e,t){return s=>{const n=ee.document.createComment("a"),i=ee.document.createComment("b");if(s.appendChild(n),s.appendChild(i),Array.isArray(e))return void Ke(n,i,e.map(t));const r=Ge(e,t);M(i,r),r.addListener(((e,t,r)=>{if(r){for(const e of r.deleted)e&&e.parentNode===s&&(O(e),s.removeChild(e));if(r.numAdded>0){const t=r.start+r.numAdded;let n=i;for(let i=t;i<e.length;i++){const t=e[i];if(t&&t.parentNode===s){n=t;break}}const o=Pe(e.slice(r.start,t));s.insertBefore(o,n)}}else Ke(n,i,e)})),Ke(n,i,r.get())}}class Ye{constructor(e,t,s,n,i){this.elem=e,this.eventType=t,this.callback=s,this.useCapture=n,this.selector=i,this.elem.addEventListener(this.eventType,this,this.useCapture)}handleEvent(e){(0,this.callback)(e,this.elem)}dispose(){this.elem.removeEventListener(this.eventType,this,this.useCapture)}}class Ze extends Ye{handleEvent(e){const t=function(e,t,s){for(let n=e;n&&n!==t;n=n.parentElement)if(n.matches(s))return n;return null}(e.target,this.elem,this.selector);t&&(0,this.callback)(e,t)}}function et(e,t,s,{useCapture:n=!1}={}){return new Ye(e,t,s,n)}function tt(e,t,{useCapture:s=!1}={}){return n=>{new Ye(n,e,t,s)}}function st(e,t,s,n,{useCapture:i=!1}={}){return new Ze(e,s,n,i,t)}function nt(e,t,s,{useCapture:n=!1}={}){return i=>{new Ze(i,t,s,n,e)}}function it(e,t,s){return e.tabIndex>=0||e.setAttribute("tabindex","-1"),et(e,t,((e,t)=>{const n=s[e.key],i=n||s[e.key+"$"];i&&(n&&(e.stopPropagation(),e.preventDefault()),i(e,t))}))}function rt(e){return t=>{it(t,"keypress",e)}}function ot(e){return t=>{it(t,"keydown",e)}}function ct(e,...t){return Ae(e,...t)}function ut(){throw new Error("Can't write to non-writable pureComputed")}function at(e){return"get"in e?e.get():e.peek()}!function(e){e.svg=Le,e.frag=Pe,e.update=Ne,e.find=We,e.findAll=je,e.domDispose=O,e.onDisposeElem=N,e.onDispose=B,e.autoDisposeElem=M,e.autoDispose=T,e.attrsElem=se,e.attrs=ne,e.attrElem=ie,e.attr=re,e.boolAttrElem=oe,e.boolAttr=ce,e.textElem=ue,e.text=ae,e.styleElem=le,e.style=de,e.propElem=he,e.prop=pe,e.showElem=_e,e.show=fe,e.hideElem=me,e.hide=ge,e.clsElem=be,e.cls=ye,e.clsPrefix=we,e.dataElem=xe,e.data=Ce,e.getData=De,e.replaceContent=Ke,e.domComputed=qe,e.maybe=ze,e.forEach=Xe,e.create=Fe,e.onElem=et,e.on=tt,e.onMatchElem=st,e.onMatch=nt,e.onKeyElem=it,e.onKeyPress=rt,e.onKeyDown=ot}(ct||(ct={}));const lt=[];class dt extends D{constructor(e,t){super(void 0),this._callback=e,this._write=ut,this._dependencies=t.length>0?t:lt,this._sub=null,this._inCall=!1,this.setListenerChangeCB(this._onListenerChange,this)}_getDepItem(){return this._activate(),this._sub._getDepItem()}get(){if(!this._sub&&!this._inCall){this._inCall=!0;try{const e=[at];for(let t=0,s=this._dependencies.length;t<s;t++)e[t+1]=this._dependencies[t].get();super.set(this._callback.apply(void 0,e))}finally{this._inCall=!1}}return super.get()}set(e){this._write(e)}onWrite(e){return this._write=e,this}dispose(){this._sub&&this._sub.dispose(),this._sub=!0,super.dispose()}_activate(){this._sub||(this._sub=new R(this._read.bind(this),this._dependencies))}_onListenerChange(e){e?this._activate():this._sub&&(this._sub.dispose(),this._sub=null)}_read(e,...t){super.set(this._callback(e,...t))}}function ht(...e){const t=e.pop();return new dt(t,e)}function pt(e,t){const s=new mt(t),n="string"==typeof e?(...t)=>s.addToElem(Ae(e,...t)):(...t)=>s.addToElem(e(...t));return Object.assign(n,{className:s.className,cls:we.bind(null,s.className)})}function _t(e){return new gt(e).className}const ft={};class mt{constructor(e){this._styles=e,this._mounted=!1,this.className=mt._nextClassName(),mt._unmounted.add(this)}static _nextClassName(){return`_grain${function(){const e=ee.window||ft;return e._grainNextStyleNum=(e._grainNextStyleNum||0)+1}()}_`}static _mountAll(){const e=Array.from(this._unmounted,(e=>e._createRules())).join("\n\n");ee.document.head.appendChild(Ae("style",e));for(const e of this._unmounted)e._mounted=!0;this._unmounted.clear()}addToElem(e){return this._mounted||mt._mountAll(),e.classList.add(this.className),e}_createRules(){return function(e,t){const s=t.search(/[^;]*\{/);return`& {${s<0?t:t.slice(0,s)}\n}\n${s<0?"":t.slice(s)}`.replace(/&/g,e)}("."+this.className,this._styles)}}mt._unmounted=new Set;class gt extends mt{_createRules(){return`@keyframes ${this.className} {${this._styles}}`}}function bt(e,t){switch(t.length){case 0:return()=>e();case 1:return()=>e(t[0]);case 2:return()=>e(t[0],t[1]);case 3:return()=>e(t[0],t[1],t[2]);case 4:return()=>e(t[0],t[1],t[2],t[3]);case 5:return()=>e(t[0],t[1],t[2],t[3],t[4]);case 6:return()=>e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return()=>e(t[0],t[1],t[2],t[3],t[4],t[5],t[6]);case 8:return()=>e(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]);default:return()=>e.apply(void 0,t)}}function yt(e,t){switch(t.length){case 0:return t=>e(t);case 1:return s=>e(s,t[0]);case 2:return s=>e(s,t[0],t[1]);case 3:return s=>e(s,t[0],t[1],t[2]);case 4:return s=>e(s,t[0],t[1],t[2],t[3]);case 5:return s=>e(s,t[0],t[1],t[2],t[3],t[4]);case 6:return s=>e(s,t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return s=>e(s,t[0],t[1],t[2],t[3],t[4],t[5],t[6]);case 8:return s=>e(s,t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]);default:return s=>e(s,...t)}}function wt(e,t){switch(t.length){case 0:return t=>e(t);case 1:return s=>e(t[0],s);case 2:return s=>e(t[0],t[1],s);case 3:return s=>e(t[0],t[1],t[2],s);case 4:return s=>e(t[0],t[1],t[2],t[3],s);case 5:return s=>e(t[0],t[1],t[2],t[3],t[4],s);case 6:return s=>e(t[0],t[1],t[2],t[3],t[4],t[5],s);case 7:return s=>e(t[0],t[1],t[2],t[3],t[4],t[5],t[6],s);case 8:return s=>e(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],s);default:return s=>e(...t,s)}}function vt(e,t,...s){const n=t.isValid;function i(t){x((()=>{e.set(t.value),n&&n.set(t.validity.valid)}))}return ct("input",...s,ct.prop("value",e),n?t=>ct.autoDisposeElem(t,U(e,(e=>n.set(t.checkValidity())))):null,t.onInput?ct.on("input",((e,t)=>i(t))):null,ct.on("change",((e,t)=>i(t))),ct.onKeyPress({Enter:(e,t)=>i(t)}))}function xt(e){return Array.isArray(e)?e:e.get()}function Ct(e){return"string"==typeof e?e:e.value}function Dt(e,t,s={}){const{defLabel:n=""}=s;return ct("select",ct("option",ct.hide(!0),n),ct.forEach(t,(t=>{const s="string"==typeof t?{value:t,label:t}:t;return ct("option",{disabled:s.disabled,selected:s.value===e.get()},s.label)})),(s=>ct.autoDisposeElem(s,U(e,((e,n)=>{const i=xt(t).findIndex((e=>Ct(e)===n));s.selectedIndex=i+1})))),ct.on("change",((s,n)=>{const i=n.selectedIndex,r=xt(t)[i-1];void 0!==r&&e.set(Ct(r))})))}}},t={};function s(n){if(t[n])return t[n].exports;var i=t[n]={exports:{}};return e[n](i,i.exports,s),i.exports}s.d=(e,t)=>{for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{const e=s(42),t=s(52),n=["A","B","C"],i=e.Observable.create(null,[0,0,0]),r=e.Observable.create(null,0);async function o(){i.set(await Promise.all(n.map(t.getBalance)))}async function c(){try{return r.set(0),await t.initialize()}finally{await o()}}const u=e.styled("div","\n  margin: 0;\n  padding: 0;\n  font-family: sans-serif;\n  font-size: 14px;\n\n  display: flex;\n  align-items: center;\n"),a=e.styled("div","\n  margin: 0 10px 0 auto;\n  border: 1px solid grey;\n  border-radius: 4px;\n  display: flex;\n  align-items: center;\n  white-space: nowrap;\n"),l=e.styled("div","\n  padding: 6px 10px;\n  background-color: grey;\n  color: white;\n"),d=e.styled("div","\n  padding: 4px 8px;\n");e.dom.update(document.body,function(){c();const t=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"});return[u.cls(""),a(d(e.dom.text((e=>e(r)+" transfers")))),n.map(((s,n)=>a(l(s),d(e.dom.text((e=>t.format(e(i)[n])))))))]}()),window.bank={initialize:c,transfer:async function(e,s,n){try{return r.set(r.get()+1),await t.transfer(e,s,n)}finally{await o()}},getBalance:t.getBalance,getNumTransfers:()=>r.get()}})()})();
//# sourceMappingURL=bankPage.js.map